import{az as f,av as h,w as m,as as y,a as l,j as e,aw as j,at as v,au as z}from"./index-BKUK2GJb.js";import{a as i}from"./api-Bz9N-lAG.js";import{F as N}from"./chunk-LAX3QLKM-CYWb81dq.js";const F=function(){const{orgId:a}=f.useParams(),r=h(),s=m(i.organizations.getOrganizationById,{id:a}),c=y(i.organizations.updateOrganization),u=m(i.auth.hasRole,{orgId:a,role:"admin"}),[g,d]=l.useState((s==null?void 0:s.name)||""),[n,o]=l.useState({type:void 0,message:""});u||r({to:"/"});const p=async t=>{t.preventDefault();const x=Object.fromEntries(new FormData(t.currentTarget));try{await c({id:a,name:x.organizationName}),o({type:"success",message:"Organization updated successfully"}),setTimeout(()=>{o({type:void 0,message:""}),r({to:`/orgs/${a}`})},1e3)}catch{o({type:"danger",message:"Failed to update organization"});return}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:flex lg:items-center lg:justify-between",children:e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("h2",{className:"text-2xl/7 font-bold text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Admin"})})}),e.jsxs("div",{className:"mt-5",children:[n.type&&e.jsx(j,{className:"mb-4",color:n.type,title:n.message}),e.jsxs(N,{className:"w-full max-w-lg",onSubmit:p,children:[e.jsx(v,{isRequired:!0,errorMessage:"Please enter a valid organization Name",label:"Organization name",labelPlacement:"outside",name:"organizationName",placeholder:"Enter organization name",type:"text",value:g,onChange:t=>d(t.target.value),size:"lg"}),e.jsx(z,{type:"submit",color:"primary",className:"mt-4",children:"Save"})]})]})]})};export{F as component};
